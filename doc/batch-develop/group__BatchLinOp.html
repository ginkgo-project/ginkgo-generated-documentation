<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ginkgo: BatchLinOp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">Generated from pipelines/508661960 branch based on develop. Ginkgo version 1.5.0</span>
   </div>
   <div id="projectbrief">A numerical linear algebra library targeting many-core architectures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">BatchLinOp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for BatchLinOp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__BatchLinOp.svg" width="535" height="204"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1BatchLinOpFactory.html">gko::BatchLinOpFactory</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classgko_1_1BatchLinOpFactory.html" title="A BatchLinOpFactory represents a higher order mapping which transforms one batch linear operator into...">BatchLinOpFactory</a> represents a higher order mapping which transforms one batch linear operator into another.  <a href="classgko_1_1BatchLinOpFactory.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1EnableBatchLinOp.html">gko::EnableBatchLinOp&lt; ConcreteBatchLinOp, PolymorphicBase &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classgko_1_1EnableBatchLinOp.html" title="The EnableBatchLinOp mixin can be used to provide sensible default implementations of the majority of...">EnableBatchLinOp</a> mixin can be used to provide sensible default implementations of the majority of the <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> and <a class="el" href="classgko_1_1PolymorphicObject.html" title="A PolymorphicObject is the abstract base for all &quot;heavy&quot; objects in Ginkgo that behave polymorphicall...">PolymorphicObject</a> interface.  <a href="classgko_1_1EnableBatchLinOp.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1BatchReadableFromMatrixData.html">gko::BatchReadableFromMatrixData&lt; ValueType, IndexType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> implementing this interface can read its data from a <a class="el" href="structgko_1_1matrix__data.html" title="This structure is used as an intermediate data type to store a sparse matrix.">matrix_data</a> structure.  <a href="classgko_1_1BatchReadableFromMatrixData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1BatchWritableToMatrixData.html">gko::BatchWritableToMatrixData&lt; ValueType, IndexType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> implementing this interface can write its data to a std::vector of <a class="el" href="structgko_1_1matrix__data.html" title="This structure is used as an intermediate data type to store a sparse matrix.">matrix_data</a> objects.  <a href="classgko_1_1BatchWritableToMatrixData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1matrix_1_1BatchCsr.html">gko::matrix::BatchCsr&lt; ValueType, IndexType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgko_1_1matrix_1_1BatchCsr.html" title="BatchCsr is a matrix format which stores only the nonzero coefficients by compressing each row of the...">BatchCsr</a> is a matrix format which stores only the nonzero coefficients by compressing each row of the matrix (compressed sparse row format).  <a href="classgko_1_1matrix_1_1BatchCsr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1matrix_1_1BatchDense.html">gko::matrix::BatchDense&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgko_1_1matrix_1_1BatchDense.html" title="BatchDense is a batch matrix format which explicitly stores all values of the matrix in each of the b...">BatchDense</a> is a batch matrix format which explicitly stores all values of the matrix in each of the batches.  <a href="classgko_1_1matrix_1_1BatchDense.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1matrix_1_1BatchDiagonal.html">gko::matrix::BatchDiagonal&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgko_1_1matrix_1_1BatchDiagonal.html" title="BatchDiagonal is a batch matrix format which explicitly stores all values of the matrix in each of th...">BatchDiagonal</a> is a batch matrix format which explicitly stores all values of the matrix in each of the batches.  <a href="classgko_1_1matrix_1_1BatchDiagonal.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1matrix_1_1BatchEll.html">gko::matrix::BatchEll&lt; ValueType, IndexType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgko_1_1matrix_1_1BatchEll.html" title="BatchEll is a matrix format which stores only the nonzero coefficients by compressing each row of the...">BatchEll</a> is a matrix format which stores only the nonzero coefficients by compressing each row of the matrix (compressed sparse row format).  <a href="classgko_1_1matrix_1_1BatchEll.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchBicgstab.html">gko::solver::BatchBicgstab&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BiCGSTAB or the Bi-Conjugate Gradient-Stabilized is a Krylov subspace solver.  <a href="classgko_1_1solver_1_1BatchBicgstab.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchCg.html">gko::solver::BatchCg&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CG or the conjugate gradient method is an iterative type Krylov subspace method which is suitable for symmetric positive definite methods.  <a href="classgko_1_1solver_1_1BatchCg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchDirect.html">gko::solver::BatchDirect&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves a batch of linear systems using a vendor-provided dense batched direct solver.  <a href="classgko_1_1solver_1_1BatchDirect.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchGmres.html">gko::solver::BatchGmres&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">GMRES or the generalized minimal residual method is an iterative type Krylov subspace method which is suitable for nonsymmetric linear systems.  <a href="classgko_1_1solver_1_1BatchGmres.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchIdr.html">gko::solver::BatchIdr&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IDR(s) is an efficient method for solving large nonsymmetric systems of linear equations.  <a href="classgko_1_1solver_1_1BatchIdr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1solver_1_1BatchRichardson.html">gko::solver::BatchRichardson&lt; ValueType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The (preconditioned) Richardson solver is an iterative method that uses a preconditioner to approximate the error of the current solution via the current (preconditioned) residual.  <a href="classgko_1_1solver_1_1BatchRichardson.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab7f0cd5a4520a215974412e6fff4f25f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#gab7f0cd5a4520a215974412e6fff4f25f">GKO_ENABLE_BATCH_LIN_OP_FACTORY</a>(_batch_lin_op,  _parameters_name,  _factory_name)</td></tr>
<tr class="memdesc:gab7f0cd5a4520a215974412e6fff4f25f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro will generate a default implementation of a BatchLinOpFactory for the BatchLinOp subclass it is defined in.  <a href="group__BatchLinOp.html#gab7f0cd5a4520a215974412e6fff4f25f">More...</a><br /></td></tr>
<tr class="separator:gab7f0cd5a4520a215974412e6fff4f25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga521f65604cc4cf427dcb2ecfa49b757c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#ga521f65604cc4cf427dcb2ecfa49b757c">GKO_ENABLE_BUILD_METHOD</a>(_factory_name)</td></tr>
<tr class="memdesc:ga521f65604cc4cf427dcb2ecfa49b757c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a build method for the factory, simplifying its construction by removing the repetitive typing of factory's name.  <a href="group__BatchLinOp.html#ga521f65604cc4cf427dcb2ecfa49b757c">More...</a><br /></td></tr>
<tr class="separator:ga521f65604cc4cf427dcb2ecfa49b757c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa037309884bbd0562b897cee95dd91c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">GKO_FACTORY_PARAMETER</a>(_name, ...)</td></tr>
<tr class="memdesc:gaa037309884bbd0562b897cee95dd91c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a factory parameter in the factory parameters structure.  <a href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">More...</a><br /></td></tr>
<tr class="separator:gaa037309884bbd0562b897cee95dd91c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49d4c09c39f06b22bebbbfd1d8bfe450"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#ga49d4c09c39f06b22bebbbfd1d8bfe450">GKO_FACTORY_PARAMETER_SCALAR</a>(_name,  _default)&#160;&#160;&#160;<a class="el" href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">GKO_FACTORY_PARAMETER</a>(_name, _default)</td></tr>
<tr class="memdesc:ga49d4c09c39f06b22bebbbfd1d8bfe450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a scalar factory parameter in the factory parameters structure.  <a href="group__BatchLinOp.html#ga49d4c09c39f06b22bebbbfd1d8bfe450">More...</a><br /></td></tr>
<tr class="separator:ga49d4c09c39f06b22bebbbfd1d8bfe450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa292314d27ec1fb7ad54debaa3606ea8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#gaa292314d27ec1fb7ad54debaa3606ea8">GKO_FACTORY_PARAMETER_VECTOR</a>(_name, ...)&#160;&#160;&#160;<a class="el" href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">GKO_FACTORY_PARAMETER</a>(_name, __VA_ARGS__)</td></tr>
<tr class="memdesc:gaa292314d27ec1fb7ad54debaa3606ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a vector factory parameter in the factory parameters structure.  <a href="group__BatchLinOp.html#gaa292314d27ec1fb7ad54debaa3606ea8">More...</a><br /></td></tr>
<tr class="separator:gaa292314d27ec1fb7ad54debaa3606ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3f94abb7e9e96e7d7c84f7250689ea2a"><td class="memTemplParams" colspan="2">template&lt;typename ConcreteFactory , typename ConcreteBatchLinOp , typename ParametersType , typename PolymorphicBase  = BatchLinOpFactory&gt; </td></tr>
<tr class="memitem:ga3f94abb7e9e96e7d7c84f7250689ea2a"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__BatchLinOp.html#ga3f94abb7e9e96e7d7c84f7250689ea2a">gko::EnableDefaultBatchLinOpFactory</a> = <a class="el" href="classgko_1_1EnableDefaultFactory.html">EnableDefaultFactory</a>&lt; ConcreteFactory, ConcreteBatchLinOp, ParametersType, PolymorphicBase &gt;</td></tr>
<tr class="memdesc:ga3f94abb7e9e96e7d7c84f7250689ea2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an alias for the <a class="el" href="classgko_1_1EnableDefaultFactory.html" title="This mixin provides a default implementation of a concrete factory.">EnableDefaultFactory</a> mixin, which correctly sets the template parameters to enable a subclass of <a class="el" href="classgko_1_1BatchLinOpFactory.html" title="A BatchLinOpFactory represents a higher order mapping which transforms one batch linear operator into...">BatchLinOpFactory</a>.  <a href="group__BatchLinOp.html#ga3f94abb7e9e96e7d7c84f7250689ea2a">More...</a><br /></td></tr>
<tr class="separator:ga3f94abb7e9e96e7d7c84f7250689ea2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="batch_linop_concept"></a>
Batched Linear operator as a concept</h1>
<p>A batch linear operator (<a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a>) forms the base class for all batched linear algebra objects. In general, it follows the same structure as the <a class="el" href="classgko_1_1LinOp.html">LinOp</a> class, but has some crucial differences which make it not strictly representable through or with the <a class="el" href="classgko_1_1LinOp.html">LinOp</a> class.</p>
<p>A batched operator is defined as a set of independent linear operators which have no communication/information exchange between them. Therefore, any collective operations between the batches is not possible and not implemented. This allows for each batch to be computed and operated on in an embarrasingly parallel fashion.</p>
<p>Similar to the <a class="el" href="classgko_1_1LinOp.html">LinOp</a> class, the <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> also implements <a class="el" href="classgko_1_1BatchLinOp.html#aeaf630de43cfd9e623e69299def5ee69" title="Applies a batch linear operator to a batch vector (or a sequence of batch of vectors).">BatchLinOp::apply()</a> methods which call the internal apply_impl() methods which the concrete <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a>'s have to implement.</p>
<p>A key difference between the <a class="el" href="classgko_1_1LinOp.html">LinOp</a> and the <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> classes is the storing of dimensions. <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> allows for storing non-equal objects in the batches and hence stores a <a class="el" href="structgko_1_1batch__dim.html" title="A type representing the dimensions of a multidimensional batch object.">batch_dim</a> object instead of a dim object. The <a class="el" href="structgko_1_1batch__dim.html" title="A type representing the dimensions of a multidimensional batch object.">batch_dim</a> object is optimized to store less amount of data when storing uniform batches.</p>
<p>All size validation functions again verify first that the number of batches are conformant and that the dimensions in the corresponding batches themselves are also valid/conformant. Here too, optimizations for uniform batches have been added.</p>
<p><a class="el" href="group__BatchLinOp.html">BatchLinOp</a> </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab7f0cd5a4520a215974412e6fff4f25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7f0cd5a4520a215974412e6fff4f25f">&#9670;&nbsp;</a></span>GKO_ENABLE_BATCH_LIN_OP_FACTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_ENABLE_BATCH_LIN_OP_FACTORY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_batch_lin_op, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_parameters_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_factory_name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro will generate a default implementation of a BatchLinOpFactory for the BatchLinOp subclass it is defined in. </p>
<p>It is required to first call the macro <a class="el" href="group__LinOp.html#ga1fc8e9d8be0c9ad2d72bc1ddfc6d8358" title="This Macro will generate a new type containing the parameters for the factory _factory_name.">GKO_CREATE_FACTORY_PARAMETERS()</a> before this one in order to instantiate the parameters type first.</p>
<p>The list of parameters for the factory should be defined in a code block after the macro definition, and should contain a list of GKO_FACTORY_PARAMETER_* declarations. The class should provide a constructor with signature _batch_lin_op(const _factory_name *, std::shared_ptr&lt;const BatchLinOp&gt;) which the factory will use a callback to construct the object.</p>
<p>A minimal example of a batch linear operator is the following:</p>
<p>```c++ struct MyBatchLinOp : public EnableBatchLinOp&lt;MyBatchLinOp&gt; { <a class="el" href="group__BatchLinOp.html#gab7f0cd5a4520a215974412e6fff4f25f" title="This macro will generate a default implementation of a BatchLinOpFactory for the BatchLinOp subclass ...">GKO_ENABLE_BATCH_LIN_OP_FACTORY(MyBatchLinOp, my_parameters, Factory)</a> { // a factory parameter named "my_value", of type int and default // value of 5 int <a class="el" href="group__BatchLinOp.html#ga49d4c09c39f06b22bebbbfd1d8bfe450" title="Creates a scalar factory parameter in the factory parameters structure.">GKO_FACTORY_PARAMETER_SCALAR(my_value, 5)</a>; // a factory parameter named <code>my_pair</code> of type <code>std::pair&lt;int,int&gt;</code> // and default value {5, 5} std::pair&lt;int, int&gt; <a class="el" href="group__BatchLinOp.html#gaa292314d27ec1fb7ad54debaa3606ea8" title="Creates a vector factory parameter in the factory parameters structure.">GKO_FACTORY_PARAMETER_VECTOR(my_pair, 5, 5)</a>; }; // constructor needed by EnableBatchLinOp explicit MyBatchLinOp(std::shared_ptr&lt;const Executor&gt; exec) { : EnableBatchLinOp&lt;MyBatchLinOp&gt;(exec) {} // constructor needed by the factory explicit MyBatchLinOp(const Factory *factory, std::shared_ptr&lt;const BatchLinOp&gt; matrix) : EnableBatchLinOp&lt;MyBatchLinOp&gt;(factory-&gt;get_executor()), matrix-&gt;get_size()), // store factory's parameters locally my_parameters_{factory-&gt;get_parameters()} { int value = my_parameters_.my_value; // do something with value } </p><div class="fragment"><div class="line">MyBatchLinOp can then be created <a class="code" href="namespacegko.html#a73ce7e87aec389b5210630bb617b4baa">as</a> follows:</div>
<div class="line"> </div>
<div class="line">```c++</div>
<div class="line"><span class="keyword">auto</span> exec = gko::ReferenceExecutor::create();</div>
<div class="line"><span class="comment">// create a factory with default `my_value` parameter</span></div>
<div class="line"><span class="keyword">auto</span> fact = MyBatchLinOp::build().on(exec);</div>
<div class="line"><span class="comment">// create a operator using the factory:</span></div>
<div class="line"><span class="keyword">auto</span> my_op = fact-&gt;generate(gko::matrix::BatchIdentity::create(exec, 2));</div>
<div class="line">std::cout &lt;&lt; my_op-&gt;get_my_parameters().my_value;  <span class="comment">// prints 5</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a factory with custom `my_value` parameter</span></div>
<div class="line"><span class="keyword">auto</span> fact = MyLinOp::build().with_my_value(0).on(exec);</div>
<div class="line"><span class="comment">// create a operator using the factory:</span></div>
<div class="line"><span class="keyword">auto</span> my_op = fact-&gt;generate(gko::matrix::BatchIdentity::create(exec, 2));</div>
<div class="line">std::cout &lt;&lt; my_op-&gt;get_my_parameters().my_value;  <span class="comment">// prints 0</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It is possible to combine both the #GKO_CREATE_FACTORY_PARAMETER_*() macros with this one in a unique macro for class <b>templates</b> (not with regular classes). Splitting this into two distinct macros allows to use them in all contexts. See <a href="https://stackoverflow.com/q/50202718/9385966">https://stackoverflow.com/q/50202718/9385966</a> for more details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_lin_op</td><td>concrete operator for which the factory is to be created [CRTP parameter] </td></tr>
    <tr><td class="paramname">_parameters_name</td><td>name of the parameters member in the class (its type is <code>&lt;_parameters_name&gt;_type</code>, the protected member's name is <code>&lt;_parameters_name&gt;_</code>, and the public getter's name is <code>get_&lt;_parameters_name&gt;()</code>) </td></tr>
    <tr><td class="paramname">_factory_name</td><td>name of the generated factory type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga521f65604cc4cf427dcb2ecfa49b757c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga521f65604cc4cf427dcb2ecfa49b757c">&#9670;&nbsp;</a></span>GKO_ENABLE_BUILD_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_ENABLE_BUILD_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_factory_name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">auto</span> build()-&gt;decltype(_factory_name::create())                   \</div>
<div class="line">    {                                                                        \</div>
<div class="line">        return _factory_name::create();                                      \</div>
<div class="line">    }                                                                        \</div>
<div class="line">    static_assert(<span class="keyword">true</span>,                                                      \</div>
<div class="line">                  <span class="stringliteral">&quot;This assert is used to counter the false positive extra &quot;</span> \</div>
<div class="line">                  <span class="stringliteral">&quot;semi-colon warnings&quot;</span>)</div>
</div><!-- fragment -->
<p>Defines a build method for the factory, simplifying its construction by removing the repetitive typing of factory's name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_factory_name</td><td>the factory for which to define the method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa037309884bbd0562b897cee95dd91c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa037309884bbd0562b897cee95dd91c8">&#9670;&nbsp;</a></span>GKO_FACTORY_PARAMETER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_FACTORY_PARAMETER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">mutable</span> _name{__VA_ARGS__};                                              \</div>
<div class="line">                                                                             \</div>
<div class="line">    template &lt;<span class="keyword">typename</span>... Args&gt;                                              \</div>
<div class="line">    auto with_##_name(Args&amp;&amp;... _value)                                      \</div>
<div class="line">        const-&gt;const std::decay_t&lt;decltype(*<span class="keyword">this</span>)&gt;&amp;                          \</div>
<div class="line">    {                                                                        \</div>
<div class="line">        using type = decltype(this-&gt;_name);                                  \</div>
<div class="line">        this-&gt;_name = type{std::forward&lt;Args&gt;(_value)...};                   \</div>
<div class="line">        return *<span class="keyword">this</span>;                                                        \</div>
<div class="line">    }                                                                        \</div>
<div class="line">    static_assert(<span class="keyword">true</span>,                                                      \</div>
<div class="line">                  <span class="stringliteral">&quot;This assert is used to counter the false positive extra &quot;</span> \</div>
<div class="line">                  <span class="stringliteral">&quot;semi-colon warnings&quot;</span>)</div>
</div><!-- fragment -->
<p>Creates a factory parameter in the factory parameters structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>name of the parameter </td></tr>
    <tr><td class="paramname">&lt;strong&gt;VA_ARGS&lt;/strong&gt;</td><td>default value of the parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__LinOp.html#ga8e0af90ec2414b768266f77cedffc309" title="This macro will generate a default implementation of a LinOpFactory for the LinOp subclass it is defi...">GKO_ENABLE_LIN_OP_FACTORY</a> for more details, and usage example</dd></dl>

</div>
</div>
<a id="ga49d4c09c39f06b22bebbbfd1d8bfe450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49d4c09c39f06b22bebbbfd1d8bfe450">&#9670;&nbsp;</a></span>GKO_FACTORY_PARAMETER_SCALAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_FACTORY_PARAMETER_SCALAR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_default&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">GKO_FACTORY_PARAMETER</a>(_name, _default)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a scalar factory parameter in the factory parameters structure. </p>
<p>Scalar in this context means that the constructor for this type only takes a single parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>name of the parameter </td></tr>
    <tr><td class="paramname">_default</td><td>default value of the parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__LinOp.html#ga8e0af90ec2414b768266f77cedffc309" title="This macro will generate a default implementation of a LinOpFactory for the LinOp subclass it is defi...">GKO_ENABLE_LIN_OP_FACTORY</a> for more details, and usage example </dd></dl>

</div>
</div>
<a id="gaa292314d27ec1fb7ad54debaa3606ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa292314d27ec1fb7ad54debaa3606ea8">&#9670;&nbsp;</a></span>GKO_FACTORY_PARAMETER_VECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_FACTORY_PARAMETER_VECTOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__BatchLinOp.html#gaa037309884bbd0562b897cee95dd91c8">GKO_FACTORY_PARAMETER</a>(_name, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a vector factory parameter in the factory parameters structure. </p>
<p>Vector in this context means that the constructor for this type takes multiple parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>name of the parameter </td></tr>
    <tr><td class="paramname">_default</td><td>default value of the parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__LinOp.html#ga8e0af90ec2414b768266f77cedffc309" title="This macro will generate a default implementation of a LinOpFactory for the LinOp subclass it is defi...">GKO_ENABLE_LIN_OP_FACTORY</a> for more details, and usage example </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga3f94abb7e9e96e7d7c84f7250689ea2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f94abb7e9e96e7d7c84f7250689ea2a">&#9670;&nbsp;</a></span>EnableDefaultBatchLinOpFactory</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConcreteFactory , typename ConcreteBatchLinOp , typename ParametersType , typename PolymorphicBase  = BatchLinOpFactory&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__BatchLinOp.html#ga3f94abb7e9e96e7d7c84f7250689ea2a">gko::EnableDefaultBatchLinOpFactory</a> = typedef <a class="el" href="classgko_1_1EnableDefaultFactory.html">EnableDefaultFactory</a>&lt;ConcreteFactory, ConcreteBatchLinOp, ParametersType, PolymorphicBase&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an alias for the <a class="el" href="classgko_1_1EnableDefaultFactory.html" title="This mixin provides a default implementation of a concrete factory.">EnableDefaultFactory</a> mixin, which correctly sets the template parameters to enable a subclass of <a class="el" href="classgko_1_1BatchLinOpFactory.html" title="A BatchLinOpFactory represents a higher order mapping which transforms one batch linear operator into...">BatchLinOpFactory</a>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ConcreteFactory</td><td>the concrete factory which is being implemented [CRTP parmeter] </td></tr>
    <tr><td class="paramname">ConcreteLinOp</td><td>the concrete <a class="el" href="classgko_1_1BatchLinOp.html">BatchLinOp</a> type which this factory produces, needs to have a constructor which takes a const ConcreteFactory *, and an std::shared_ptr&lt;const BatchLinOp&gt; as parameters. </td></tr>
    <tr><td class="paramname">ParametersType</td><td>a subclass of <a class="el" href="classgko_1_1enable__parameters__type.html" title="The enable_parameters_type mixin is used to create a base implementation of the factory parameters st...">enable_parameters_type</a> template which defines all of the parameters of the factory </td></tr>
    <tr><td class="paramname">PolymorphicBase</td><td>parent of ConcreteFactory in the polymorphic hierarchy, has to be a subclass of <a class="el" href="classgko_1_1LinOpFactory.html" title="A LinOpFactory represents a higher order mapping which transforms one linear operator into another.">LinOpFactory</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacegko_html_a73ce7e87aec389b5210630bb617b4baa"><div class="ttname"><a href="namespacegko.html#a73ce7e87aec389b5210630bb617b4baa">gko::as</a></div><div class="ttdeci">std::decay&lt; T &gt;::type * as(U *obj)</div><div class="ttdoc">Performs polymorphic type conversion.</div><div class="ttdef"><b>Definition:</b> utils_helper.hpp:289</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>

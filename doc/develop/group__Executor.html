<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ginkgo: Executors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">Generated from pipelines/487245567 branch based on develop. Ginkgo version 1.5.0</span>
   </div>
   <div id="projectbrief">A numerical linear algebra library targeting many-core architectures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Executors</div>  </div>
</div><!--header-->
<div class="contents">

<p>A module dedicated to the implementation and usage of the executors in Ginkgo.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Executors:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__Executor.svg" width="448" height="394"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__exec__cuda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__cuda.html">CUDA Executor</a></td></tr>
<tr class="memdesc:group__exec__cuda"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the CUDA executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__dpcpp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__dpcpp.html">DPC++ Executor</a></td></tr>
<tr class="memdesc:group__exec__dpcpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the DPC++ executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__hip"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__hip.html">HIP Executor</a></td></tr>
<tr class="memdesc:group__exec__hip"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the HIP executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__omp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__omp.html">OpenMP Executor</a></td></tr>
<tr class="memdesc:group__exec__omp"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the OpenMP executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__ref"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__ref.html">Reference Executor</a></td></tr>
<tr class="memdesc:group__exec__ref"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the Reference executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Operation.html">gko::Operation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operations can be used to define functionalities whose implementations differ among devices.  <a href="classgko_1_1Operation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html">gko::Executor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first step in using the Ginkgo library consists of creating an executor.  <a href="classgko_1_1Executor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1executor__deleter.html">gko::executor_deleter&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a deleter that uses an executor's <code>free</code> method to deallocate the data.  <a href="classgko_1_1executor__deleter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1OmpExecutor.html">gko::OmpExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor.">Executor</a> subclass which represents the OpenMP device (typically CPU).  <a href="classgko_1_1OmpExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1ReferenceExecutor.html">gko::ReferenceExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a specialization of the <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU).">OmpExecutor</a>, which runs the reference implementations of the kernels used for debugging purposes.  <a href="classgko_1_1ReferenceExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1CudaExecutor.html">gko::CudaExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor.">Executor</a> subclass which represents the CUDA device.  <a href="classgko_1_1CudaExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1HipExecutor.html">gko::HipExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor.">Executor</a> subclass which represents the HIP enhanced device.  <a href="classgko_1_1HipExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1DpcppExecutor.html">gko::DpcppExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor.">Executor</a> subclass which represents a DPC++ enhanced device.  <a href="classgko_1_1DpcppExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Executor.html#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">GKO_REGISTER_OPERATION</a>(_name,  _kernel)</td></tr>
<tr class="memdesc:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds a set of device-specific kernels to an Operation.  <a href="group__Executor.html#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">More...</a><br /></td></tr>
<tr class="separator:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A module dedicated to the implementation and usage of the executors in Ginkgo. </p>
<p>Below, we provide a brief introduction to executors in Ginkgo, how they have been implemented, how to best make use of them and how to add new executors.</p>
<h1><a class="anchor" id="exec_1"></a>
Executors in Ginkgo.</h1>
<p>The first step in using the Ginkgo library consists of creating an executor. Executors are used to specify the location for the data of linear algebra objects, and to determine where the operations will be executed. Ginkgo currently supports three different executor types:</p>
<ul>
<li><a class="el" href="group__exec__omp.html">OpenMP Executor</a> specifies that the data should be stored and the associated operations executed on an OpenMP-supporting device (e.g. host CPU);</li>
<li><a class="el" href="group__exec__cuda.html">CUDA Executor</a> specifies that the data should be stored and the operations executed on the NVIDIA GPU accelerator;</li>
<li><a class="el" href="group__exec__hip.html">HIP Executor</a> uses the HIP library to compile code for either NVIDIA or AMD GPU accelerator;</li>
<li><a class="el" href="group__exec__dpcpp.html">DPC++ Executor</a> uses the DPC++ compiler for any DPC++ supported hardware (e.g. Intel CPUs, GPU, FPGAs, ...);</li>
<li><a class="el" href="group__exec__ref.html">Reference Executor</a> executes a non-optimized reference implementation, which can be used to debug the library. </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">&#9670;&nbsp;</a></span>GKO_REGISTER_OPERATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_REGISTER_OPERATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_kernel&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binds a set of device-specific kernels to an Operation. </p>
<p>It also defines a helper function which creates the associated operation. Any input arguments passed to the helper function are forwarded to the kernel when the operation is executed.</p>
<p>The kernels used to bind the operation are searched in <code>kernels::DEV_TYPE</code> namespace, where <code>DEV_TYPE</code> is replaced by <code>omp</code>, <code>cuda</code>, <code>hip</code>, <code>dpcpp</code> and <code>reference</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>operation name </td></tr>
    <tr><td class="paramname">_kernel</td><td>kernel which will be bound to the operation</td></tr>
  </table>
  </dd>
</dl>
<h2><a class="anchor" id="autotoc_md72"></a>
Example</h2>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line"><span class="comment">// define the omp, cuda, hip and reference kernels which will be bound to the</span></div>
<div class="line"><span class="comment">// operation</span></div>
<div class="line"><span class="keyword">namespace </span>kernels {</div>
<div class="line"><span class="keyword">namespace </span>omp {</div>
<div class="line"><span class="keywordtype">void</span> my_kernel(<span class="keywordtype">int</span> x) {</div>
<div class="line">     <span class="comment">// omp code</span></div>
<div class="line">}</div>
<div class="line">}</div>
<div class="line"><span class="keyword">namespace </span>cuda {</div>
<div class="line"><span class="keywordtype">void</span> my_kernel(<span class="keywordtype">int</span> x) {</div>
<div class="line">     <span class="comment">// cuda code</span></div>
<div class="line">}</div>
<div class="line">}</div>
<div class="line"><span class="keyword">namespace </span>hip {</div>
<div class="line"><span class="keywordtype">void</span> my_kernel(<span class="keywordtype">int</span> x) {</div>
<div class="line">     <span class="comment">// hip code</span></div>
<div class="line">}</div>
<div class="line">}</div>
<div class="line"><span class="keyword">namespace </span>dpcpp {</div>
<div class="line"><span class="keywordtype">void</span> my_kernel(<span class="keywordtype">int</span> x) {</div>
<div class="line">     <span class="comment">// dpcpp code</span></div>
<div class="line">}</div>
<div class="line">}</div>
<div class="line"><span class="keyword">namespace </span>reference {</div>
<div class="line"><span class="keywordtype">void</span> my_kernel(<span class="keywordtype">int</span> x) {</div>
<div class="line">    <span class="comment">// reference code</span></div>
<div class="line">}</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Bind the kernels to the operation</span></div>
<div class="line"><a class="code" href="group__Executor.html#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">GKO_REGISTER_OPERATION</a>(my_op, my_kernel);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// create executors</span></div>
<div class="line">    <span class="keyword">auto</span> omp = OmpExecutor::create();</div>
<div class="line">    <span class="keyword">auto</span> cuda = CudaExecutor::create(0, omp);</div>
<div class="line">    <span class="keyword">auto</span> hip = HipExecutor::create(0, omp);</div>
<div class="line">    <span class="keyword">auto</span> dpcpp = DpcppExecutor::create(0, omp);</div>
<div class="line">    <span class="keyword">auto</span> ref = ReferenceExecutor::create();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// create the operation</span></div>
<div class="line">    <span class="keyword">auto</span> op = make_my_op(5); <span class="comment">// x = 5</span></div>
<div class="line"> </div>
<div class="line">    omp-&gt;run(op);  <span class="comment">// run omp kernel</span></div>
<div class="line">    cuda-&gt;run(op);  <span class="comment">// run cuda kernel</span></div>
<div class="line">    hip-&gt;run(op);  <span class="comment">// run hip kernel</span></div>
<div class="line">    dpcpp-&gt;run(op);  <span class="comment">// run DPC++ kernel</span></div>
<div class="line">    ref-&gt;run(op);  <span class="comment">// run reference kernel</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="agroup__Executor_html_ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><div class="ttname"><a href="group__Executor.html#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">GKO_REGISTER_OPERATION</a></div><div class="ttdeci">#define GKO_REGISTER_OPERATION(_name, _kernel)</div><div class="ttdoc">Binds a set of device-specific kernels to an Operation.</div><div class="ttdef"><b>Definition:</b> executor.hpp:429</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>

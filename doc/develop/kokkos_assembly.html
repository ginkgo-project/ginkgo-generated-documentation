<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ginkgo: The kokkos_assembly program</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">Generated from pipelines/1035932445 branch based on develop. Ginkgo version 1.7.0</span>
   </div>
   <div id="projectbrief">A numerical linear algebra library targeting many-core architectures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The kokkos_assembly program </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Kokkos assembly example..</p>
<p>This example depends on simple-solver, poisson-solver, three-pt-stencil-solver, .</p>
<p> 
<table class="example" width="50%">
<tr><th colspan="2"><b><small>Table of contents</small></b></th></tr>
<tr><td width="50%" valign="top">
<ol>
  <li> <a href="#Intro" class=bold>Introduction</a>
    <ul>
        <li><a href="#Notes"> Notes </a>
    </ul>
  <li> <a href="#CommProg" class=bold>The commented program</a>
    <ul>
      </ul>
</ol></td><td width="50%" valign="top"><ol>
  <li value="3"> <a href="#Results" class=bold>Results</a>
    <ul>
    </ul>
  <li> <a href="#PlainProg" class=bold>The plain program</a>
</ol> </td> </tr> </table>
 <a class="anchor" id="Intro"></a> <a class="anchor" id="Introduction"></a></p><h1>Introduction</h1>
<p>This example solves a 1D Poisson equation:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ u : [0, 1] \rightarrow R\\ u'' = f\\ u(0) = u0\\ u(1) = u1 \]" src="form_72.png"/>
</p>
<p>using a finite difference method on an equidistant grid with <code>K</code> discretization points (<code>K</code> can be controlled with a command line parameter).</p>
<p>The resulting CSR matrix is assembled using Kokkos kernels. This example show how to use Ginkgo data with Kokkos kernels.</p>
<p><a class="anchor" id="Notes"></a></p><h3>Notes </h3>
<p>If this example is built as part of Ginkgo, it is advised to configure Ginkgo with <code>-DGINKGO_WITH_CCACHE=OFF</code> to prevent incompabilities with Kokkos' compiler wrapper for <code>nvcc</code>.</p>
<p><a class="anchor" id="CommProg"></a> </p><h1>The commented program</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;omp.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Kokkos_Core.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ginkgo/ginkgo.hpp&gt;</span></div>
</div><!-- fragment --><p>Creates a stencil matrix in CSR format for the given number of discretization points.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType, <span class="keyword">typename</span> IndexType&gt;</div>
<div class="line"><span class="keywordtype">void</span> generate_stencil_matrix(<a class="code" href="classgko_1_1matrix_1_1Csr.html">gko::matrix::Csr&lt;ValueType, IndexType&gt;</a>* matrix)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> exec = matrix-&gt;<a class="code" href="classgko_1_1PolymorphicObject.html#ab40586bff071b7f11c2cf6b5cbf598eb">get_executor</a>();</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> discretization_points = matrix-&gt;<a class="code" href="classgko_1_1LinOp.html#a31b3c003388eb0b95393154f68c2b98d">get_size</a>()[0];</div>
</div><!-- fragment --><p>Over-allocate storage for the matrix elements. Each row has 3 entries, except for the first and last one. To handle each row uniformly, we allocate space for 3x the number of rows.</p>
<div class="fragment"><div class="line"><a class="code" href="classgko_1_1device__matrix__data.html">gko::device_matrix_data&lt;ValueType, IndexType&gt;</a> md(exec, matrix-&gt;<a class="code" href="classgko_1_1LinOp.html#a31b3c003388eb0b95393154f68c2b98d">get_size</a>(),</div>
<div class="line">                                                 discretization_points * 3);</div>
</div><!-- fragment --><p>Create Kokkos views on Ginkgo data.</p>
<div class="fragment"><div class="line">Kokkos::View&lt;IndexType*&gt; v_row_idxs(md.get_row_idxs(), md.get_num_elems());</div>
<div class="line">Kokkos::View&lt;IndexType*&gt; v_col_idxs(md.get_col_idxs(), md.get_num_elems());</div>
<div class="line">Kokkos::View&lt;ValueType*&gt; v_values(md.get_values(), md.get_num_elems());</div>
</div><!-- fragment --><p>Create the matrix entries. This also creates zero entries for the first and second row to handle all rows uniformly.</p>
<div class="fragment"><div class="line">Kokkos::parallel_for(</div>
<div class="line">    <span class="stringliteral">&quot;generate_stencil_matrix&quot;</span>, md.get_num_elems(), KOKKOS_LAMBDA(<span class="keywordtype">int</span> i) {</div>
<div class="line">        <span class="keyword">const</span> ValueType coefs[] = {-1, 2, -1};</div>
<div class="line">        <span class="keyword">auto</span> ofs = static_cast&lt;IndexType&gt;((i % 3) - 1);</div>
<div class="line">        <span class="keyword">auto</span> row = static_cast&lt;IndexType&gt;(i / 3);</div>
<div class="line">        <span class="keyword">auto</span> col = row + ofs;</div>
</div><!-- fragment --><p>To prevent branching, a mask is used to set the entry to zero, if the column is out-of-bounds</p>
<div class="fragment"><div class="line">    <span class="keyword">auto</span> mask =</div>
<div class="line">        static_cast&lt;IndexType&gt;(0 &lt;= col &amp;&amp; col &lt; discretization_points);</div>
<div class="line"> </div>
<div class="line">    v_row_idxs[i] = mask * row;</div>
<div class="line">    v_col_idxs[i] = mask * col;</div>
<div class="line">    v_values[i] = mask * coefs[ofs + 1];</div>
<div class="line">});</div>
</div><!-- fragment --><p>Add up duplicate (zero) entries.</p>
<div class="fragment"><div class="line">md.sum_duplicates();</div>
</div><!-- fragment --><p>Build Csr matrix.</p>
<div class="fragment"><div class="line">    matrix-&gt;<a class="code" href="classgko_1_1matrix_1_1Csr.html#ac4db41146ed3c3a8653b03d6b2c6c675">read</a>(std::move(md));</div>
<div class="line">}</div>
</div><!-- fragment --><p>Generates the RHS vector given <code>f</code> and the boundary conditions.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Closure, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><span class="keywordtype">void</span> generate_rhs(Closure&amp;&amp; f, ValueType u0, ValueType u1,</div>
<div class="line">                  <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>* rhs)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> discretization_points = <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>-&gt;get_size()[0];</div>
<div class="line">    <span class="keyword">auto</span> values = <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>-&gt;get_values();</div>
<div class="line">    Kokkos::View&lt;ValueType*&gt; values_view(values, discretization_points);</div>
<div class="line">    Kokkos::parallel_for(</div>
<div class="line">        <span class="stringliteral">&quot;generate_rhs&quot;</span>, discretization_points, KOKKOS_LAMBDA(<span class="keywordtype">int</span> i) {</div>
<div class="line">            <span class="keyword">const</span> ValueType h = 1.0 / (discretization_points + 1);</div>
<div class="line">            <span class="keyword">const</span> ValueType xi = ValueType(i + 1) * h;</div>
<div class="line">            values_view[i] = -f(xi) * h * h;</div>
<div class="line">            <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line">                values_view[i] += u0;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (i == discretization_points - 1) {</div>
<div class="line">                values_view[i] += u1;</div>
<div class="line">            }</div>
<div class="line">        });</div>
<div class="line">}</div>
</div><!-- fragment --><p>Computes the 1-norm of the error given the computed <code>u</code> and the correct solution function <code>correct_u</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Closure, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><span class="keywordtype">double</span> calculate_error(<span class="keywordtype">int</span> discretization_points,</div>
<div class="line">                       <span class="keyword">const</span> <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>* u,</div>
<div class="line">                       Closure&amp;&amp; correct_u)</div>
<div class="line">{</div>
<div class="line">    Kokkos::View&lt;const ValueType*&gt; v_u(u-&gt;<a class="code" href="classgko_1_1matrix_1_1Dense.html#ab83c739c1b11abaecc3bfd89506f6c9c">get_const_values</a>(),</div>
<div class="line">                                       discretization_points);</div>
<div class="line">    <span class="keyword">auto</span> error = 0.0;</div>
<div class="line">    Kokkos::parallel_reduce(</div>
<div class="line">        <span class="stringliteral">&quot;calculate_error&quot;</span>, discretization_points,</div>
<div class="line">        KOKKOS_LAMBDA(<span class="keywordtype">int</span> i, <span class="keywordtype">double</span>&amp; lsum) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> h = 1.0 / (discretization_points + 1);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> xi = (i + 1) * h;</div>
<div class="line">            lsum += Kokkos::Experimental::abs(</div>
<div class="line">                (v_u(i) - correct_u(xi)) /</div>
<div class="line">                Kokkos::Experimental::abs(correct_u(xi)));</div>
<div class="line">        },</div>
<div class="line">        error);</div>
<div class="line">    <span class="keywordflow">return</span> error;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    Kokkos::ScopeGuard kokkos(argc, argv);</div>
</div><!-- fragment --><p>Some shortcuts</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> ValueType = double;</div>
<div class="line"><span class="keyword">using</span> RealValueType = <a class="code" href="namespacegko.html#afd46d554050c4ae90e84ea4fcd9a41f3">gko::remove_complex&lt;ValueType&gt;</a>;</div>
<div class="line"><span class="keyword">using</span> IndexType = int;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">using</span> vec = <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>;</div>
<div class="line"><span class="keyword">using</span> mtx = <a class="code" href="classgko_1_1matrix_1_1Csr.html">gko::matrix::Csr&lt;ValueType, IndexType&gt;</a>;</div>
<div class="line"><span class="keyword">using</span> cg = <a class="code" href="classgko_1_1solver_1_1Cg.html">gko::solver::Cg&lt;ValueType&gt;</a>;</div>
<div class="line"><span class="keyword">using</span> bj = <a class="code" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi&lt;ValueType&gt;</a>;</div>
</div><!-- fragment --><p>Print help message. For details on the kokkos-options see <a href="https://kokkos.github.io/kokkos-core-wiki/ProgrammingGuide/Initialization.html#initialization-by-command-line-arguments">https://kokkos.github.io/kokkos-core-wiki/ProgrammingGuide/Initialization.html#initialization-by-command-line-arguments</a></p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (argc == 2 &amp;&amp; (std::string(argv[1]) == <span class="stringliteral">&quot;--help&quot;</span>)) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[0]</div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot; [discretization_points] [kokkos-options]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::exit(-1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> discretization_points =</div>
<div class="line">    argc &gt;= 2 ? std::atoi(argv[1]) : 100u;</div>
</div><!-- fragment --><p>chooses the executor that corresponds to the Kokkos DefaultExecutionSpace</p>
<div class="fragment"><div class="line">    <span class="keyword">auto</span> exec = []() -&gt; std::shared_ptr&lt;gko::Executor&gt; {</div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_SERIAL</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace,</div>
<div class="line">                         Kokkos::Serial&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> gko::ReferenceExecutor::create();</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_OPENMP</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace,</div>
<div class="line">                         Kokkos::OpenMP&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1OmpExecutor.html#a8930142a1913bcbcac4fb6c917f930d9">gko::OmpExecutor::create</a>();</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_CUDA</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace, Kokkos::Cuda&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1CudaExecutor.html#a6c423656c7c0eb53810cb77bb4a66d15">gko::CudaExecutor::create</a>(0,</div>
<div class="line">                                             gko::ReferenceExecutor::create());</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_HIP</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace, Kokkos::HIP&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1HipExecutor.html#aa0701fe1303e03a8331da7e95008100d">gko::HipExecutor::create</a>(0,</div>
<div class="line">                                            gko::ReferenceExecutor::create());</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">    }();</span></div>
</div><!-- fragment --><p>problem:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> correct_u = [] KOKKOS_FUNCTION(ValueType x) { <span class="keywordflow">return</span> x * x * x; };</div>
<div class="line"><span class="keyword">auto</span> f = [] KOKKOS_FUNCTION(ValueType x) { <span class="keywordflow">return</span> ValueType{6} * x; };</div>
<div class="line"><span class="keyword">auto</span> u0 = correct_u(0);</div>
<div class="line"><span class="keyword">auto</span> u1 = correct_u(1);</div>
</div><!-- fragment --><p>initialize vectors</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a> = vec::create(exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>(discretization_points, 1));</div>
<div class="line">generate_rhs(f, u0, u1, <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>.get());</div>
<div class="line"><span class="keyword">auto</span> u = vec::create(exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>(discretization_points, 1));</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; u-&gt;get_size()[0]; ++i) {</div>
<div class="line">    u-&gt;get_values()[i] = 0.0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>initialize the stencil matrix</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> A = <a class="code" href="namespacegko.html#a3ce296f73db0ff398bdea6009a3a5c58">share</a>(mtx::create(</div>
<div class="line">    exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>{discretization_points, discretization_points}));</div>
<div class="line">generate_stencil_matrix(A.get());</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> RealValueType reduction_factor{1e-7};</div>
</div><!-- fragment --><p>Generate solver and solve the system</p>
<div class="fragment"><div class="line">    cg::build()</div>
<div class="line">        .with_criteria(</div>
<div class="line">            gko::stop::Iteration::build().with_max_iters(discretization_points),</div>
<div class="line">            <a class="code" href="classgko_1_1stop_1_1ResidualNorm.html">gko::stop::ResidualNorm&lt;ValueType&gt;::build</a>().with_reduction_factor(</div>
<div class="line">                reduction_factor))</div>
<div class="line">        .with_preconditioner(bj::build())</div>
<div class="line">        .on(exec)</div>
<div class="line">        -&gt;generate(A)</div>
<div class="line">        -&gt;apply(rhs, u);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\nSolve complete.&quot;</span></div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nThe average relative error is &quot;</span></div>
<div class="line">              &lt;&lt; calculate_error(discretization_points, u.get(), correct_u) /</div>
<div class="line">                     discretization_points</div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <a class="anchor" id="Results"></a></p><h1>Results</h1>
<p>Example output: </p><div class="fragment"><div class="line">&gt; ./kokkos-assembly</div>
<div class="line"> </div>
<div class="line">Solve complete.</div>
<div class="line">The average relative error is 1.05488e-11</div>
</div><!-- fragment --><p>The actual error depends on the used hardware. <a class="anchor" id="PlainProg"></a> </p><h1>The plain program</h1>
<div class="fragment"><div class="line"><span class="comment">/*******************************&lt;GINKGO LICENSE&gt;******************************</span></div>
<div class="line"><span class="comment">Copyright (c) 2017-2023, the Ginkgo authors</span></div>
<div class="line"><span class="comment">All rights reserved.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment">modification, are permitted provided that the following conditions</span></div>
<div class="line"><span class="comment">are met:</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">1. Redistributions of source code must retain the above copyright</span></div>
<div class="line"><span class="comment">notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">2. Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><span class="comment">notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><span class="comment">documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">3. Neither the name of the copyright holder nor the names of its</span></div>
<div class="line"><span class="comment">contributors may be used to endorse or promote products derived from</span></div>
<div class="line"><span class="comment">this software without specific prior written permission.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS</span></div>
<div class="line"><span class="comment">IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED</span></div>
<div class="line"><span class="comment">TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A</span></div>
<div class="line"><span class="comment">PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><span class="comment">HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><span class="comment">SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment">LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><span class="comment">DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><span class="comment">THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><span class="comment">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment">******************************&lt;GINKGO LICENSE&gt;*******************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;omp.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Kokkos_Core.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ginkgo/ginkgo.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ValueType, <span class="keyword">typename</span> IndexType&gt;</div>
<div class="line"><span class="keywordtype">void</span> generate_stencil_matrix(<a class="code" href="classgko_1_1matrix_1_1Csr.html">gko::matrix::Csr&lt;ValueType, IndexType&gt;</a>* matrix)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> exec = matrix-&gt;<a class="code" href="classgko_1_1PolymorphicObject.html#ab40586bff071b7f11c2cf6b5cbf598eb">get_executor</a>();</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> discretization_points = matrix-&gt;<a class="code" href="classgko_1_1LinOp.html#a31b3c003388eb0b95393154f68c2b98d">get_size</a>()[0];</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classgko_1_1device__matrix__data.html">gko::device_matrix_data&lt;ValueType, IndexType&gt;</a> md(exec, matrix-&gt;<a class="code" href="classgko_1_1LinOp.html#a31b3c003388eb0b95393154f68c2b98d">get_size</a>(),</div>
<div class="line">                                                     discretization_points * 3);</div>
<div class="line"> </div>
<div class="line">    Kokkos::View&lt;IndexType*&gt; v_row_idxs(md.get_row_idxs(), md.get_num_elems());</div>
<div class="line">    Kokkos::View&lt;IndexType*&gt; v_col_idxs(md.get_col_idxs(), md.get_num_elems());</div>
<div class="line">    Kokkos::View&lt;ValueType*&gt; v_values(md.get_values(), md.get_num_elems());</div>
<div class="line"> </div>
<div class="line">    Kokkos::parallel_for(</div>
<div class="line">        <span class="stringliteral">&quot;generate_stencil_matrix&quot;</span>, md.get_num_elems(), KOKKOS_LAMBDA(<span class="keywordtype">int</span> i) {</div>
<div class="line">            <span class="keyword">const</span> ValueType coefs[] = {-1, 2, -1};</div>
<div class="line">            <span class="keyword">auto</span> ofs = static_cast&lt;IndexType&gt;((i % 3) - 1);</div>
<div class="line">            <span class="keyword">auto</span> row = static_cast&lt;IndexType&gt;(i / 3);</div>
<div class="line">            <span class="keyword">auto</span> col = row + ofs;</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> mask =</div>
<div class="line">                static_cast&lt;IndexType&gt;(0 &lt;= col &amp;&amp; col &lt; discretization_points);</div>
<div class="line"> </div>
<div class="line">            v_row_idxs[i] = mask * row;</div>
<div class="line">            v_col_idxs[i] = mask * col;</div>
<div class="line">            v_values[i] = mask * coefs[ofs + 1];</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">    md.<a class="code" href="classgko_1_1device__matrix__data.html#a8b58afc780989cfcba739829572fe7ab">sum_duplicates</a>();</div>
<div class="line"> </div>
<div class="line">    matrix-&gt;<a class="code" href="classgko_1_1matrix_1_1Csr.html#ac4db41146ed3c3a8653b03d6b2c6c675">read</a>(std::move(md));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Closure, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><span class="keywordtype">void</span> generate_rhs(Closure&amp;&amp; f, ValueType u0, ValueType u1,</div>
<div class="line">                  <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>* rhs)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> discretization_points = <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>-&gt;get_size()[0];</div>
<div class="line">    <span class="keyword">auto</span> values = <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>-&gt;get_values();</div>
<div class="line">    Kokkos::View&lt;ValueType*&gt; values_view(values, discretization_points);</div>
<div class="line">    Kokkos::parallel_for(</div>
<div class="line">        <span class="stringliteral">&quot;generate_rhs&quot;</span>, discretization_points, KOKKOS_LAMBDA(<span class="keywordtype">int</span> i) {</div>
<div class="line">            <span class="keyword">const</span> ValueType h = 1.0 / (discretization_points + 1);</div>
<div class="line">            <span class="keyword">const</span> ValueType xi = ValueType(i + 1) * h;</div>
<div class="line">            values_view[i] = -f(xi) * h * h;</div>
<div class="line">            <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line">                values_view[i] += u0;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (i == discretization_points - 1) {</div>
<div class="line">                values_view[i] += u1;</div>
<div class="line">            }</div>
<div class="line">        });</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Closure, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><span class="keywordtype">double</span> calculate_error(<span class="keywordtype">int</span> discretization_points,</div>
<div class="line">                       <span class="keyword">const</span> <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>* u,</div>
<div class="line">                       Closure&amp;&amp; correct_u)</div>
<div class="line">{</div>
<div class="line">    Kokkos::View&lt;const ValueType*&gt; v_u(u-&gt;<a class="code" href="classgko_1_1matrix_1_1Dense.html#ab83c739c1b11abaecc3bfd89506f6c9c">get_const_values</a>(),</div>
<div class="line">                                       discretization_points);</div>
<div class="line">    <span class="keyword">auto</span> error = 0.0;</div>
<div class="line">    Kokkos::parallel_reduce(</div>
<div class="line">        <span class="stringliteral">&quot;calculate_error&quot;</span>, discretization_points,</div>
<div class="line">        KOKKOS_LAMBDA(<span class="keywordtype">int</span> i, <span class="keywordtype">double</span>&amp; lsum) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> h = 1.0 / (discretization_points + 1);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> xi = (i + 1) * h;</div>
<div class="line">            lsum += Kokkos::Experimental::abs(</div>
<div class="line">                (v_u(i) - correct_u(xi)) /</div>
<div class="line">                Kokkos::Experimental::abs(correct_u(xi)));</div>
<div class="line">        },</div>
<div class="line">        error);</div>
<div class="line">    <span class="keywordflow">return</span> error;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    Kokkos::ScopeGuard kokkos(argc, argv);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using</span> ValueType = double;</div>
<div class="line">    <span class="keyword">using</span> RealValueType = <a class="code" href="namespacegko.html#afd46d554050c4ae90e84ea4fcd9a41f3">gko::remove_complex&lt;ValueType&gt;</a>;</div>
<div class="line">    <span class="keyword">using</span> IndexType = int;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using</span> vec = <a class="code" href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense&lt;ValueType&gt;</a>;</div>
<div class="line">    <span class="keyword">using</span> mtx = <a class="code" href="classgko_1_1matrix_1_1Csr.html">gko::matrix::Csr&lt;ValueType, IndexType&gt;</a>;</div>
<div class="line">    <span class="keyword">using</span> cg = <a class="code" href="classgko_1_1solver_1_1Cg.html">gko::solver::Cg&lt;ValueType&gt;</a>;</div>
<div class="line">    <span class="keyword">using</span> bj = <a class="code" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi&lt;ValueType&gt;</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (argc == 2 &amp;&amp; (std::string(argv[1]) == <span class="stringliteral">&quot;--help&quot;</span>)) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[0]</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot; [discretization_points] [kokkos-options]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        std::exit(-1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> discretization_points =</div>
<div class="line">        argc &gt;= 2 ? std::atoi(argv[1]) : 100u;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> exec = []() -&gt; std::shared_ptr&lt;gko::Executor&gt; {</div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_SERIAL</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace,</div>
<div class="line">                         Kokkos::Serial&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> gko::ReferenceExecutor::create();</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_OPENMP</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace,</div>
<div class="line">                         Kokkos::OpenMP&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1OmpExecutor.html#a8930142a1913bcbcac4fb6c917f930d9">gko::OmpExecutor::create</a>();</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_CUDA</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace, Kokkos::Cuda&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1CudaExecutor.html#a6c423656c7c0eb53810cb77bb4a66d15">gko::CudaExecutor::create</a>(0,</div>
<div class="line">                                             gko::ReferenceExecutor::create());</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#ifdef KOKKOS_ENABLE_HIP</span></div>
<div class="line">        <span class="keywordflow">if</span> (std::is_same&lt;Kokkos::DefaultExecutionSpace, Kokkos::HIP&gt;::value) {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="classgko_1_1HipExecutor.html#aa0701fe1303e03a8331da7e95008100d">gko::HipExecutor::create</a>(0,</div>
<div class="line">                                            gko::ReferenceExecutor::create());</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    }();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> correct_u = [] KOKKOS_FUNCTION(ValueType x) { <span class="keywordflow">return</span> x * x * x; };</div>
<div class="line">    <span class="keyword">auto</span> f = [] KOKKOS_FUNCTION(ValueType x) { <span class="keywordflow">return</span> ValueType{6} * x; };</div>
<div class="line">    <span class="keyword">auto</span> u0 = correct_u(0);</div>
<div class="line">    <span class="keyword">auto</span> u1 = correct_u(1);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a> = vec::create(exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>(discretization_points, 1));</div>
<div class="line">    generate_rhs(f, u0, u1, <a class="code" href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">rhs</a>.get());</div>
<div class="line">    <span class="keyword">auto</span> u = vec::create(exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>(discretization_points, 1));</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; u-&gt;get_size()[0]; ++i) {</div>
<div class="line">        u-&gt;get_values()[i] = 0.0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> A = <a class="code" href="namespacegko.html#a3ce296f73db0ff398bdea6009a3a5c58">share</a>(mtx::create(</div>
<div class="line">        exec, <a class="code" href="structgko_1_1dim.html">gko::dim&lt;2&gt;</a>{discretization_points, discretization_points}));</div>
<div class="line">    generate_stencil_matrix(A.get());</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> RealValueType reduction_factor{1e-7};</div>
<div class="line">    cg::build()</div>
<div class="line">        .with_criteria(</div>
<div class="line">            gko::stop::Iteration::build().with_max_iters(discretization_points),</div>
<div class="line">            <a class="code" href="classgko_1_1stop_1_1ResidualNorm.html">gko::stop::ResidualNorm&lt;ValueType&gt;::build</a>().with_reduction_factor(</div>
<div class="line">                reduction_factor))</div>
<div class="line">        .with_preconditioner(bj::build())</div>
<div class="line">        .on(exec)</div>
<div class="line">        -&gt;generate(A)</div>
<div class="line">        -&gt;apply(rhs, u);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\nSolve complete.&quot;</span></div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nThe average relative error is &quot;</span></div>
<div class="line">              &lt;&lt; calculate_error(discretization_points, u.get(), correct_u) /</div>
<div class="line">                     discretization_points</div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassgko_1_1matrix_1_1Csr_html"><div class="ttname"><a href="classgko_1_1matrix_1_1Csr.html">gko::matrix::Csr</a></div><div class="ttdoc">CSR is a matrix format which stores only the nonzero coefficients by compressing each row of the matr...</div><div class="ttdef"><b>Definition:</b> matrix.hpp:54</div></div>
<div class="ttc" id="aclassgko_1_1matrix_1_1Dense_html"><div class="ttname"><a href="classgko_1_1matrix_1_1Dense.html">gko::matrix::Dense</a></div><div class="ttdoc">Dense is a matrix format which explicitly stores all values of the matrix.</div><div class="ttdef"><b>Definition:</b> dense_cache.hpp:48</div></div>
<div class="ttc" id="aclassgko_1_1device__matrix__data_html_a8b58afc780989cfcba739829572fe7ab"><div class="ttname"><a href="classgko_1_1device__matrix__data.html#a8b58afc780989cfcba739829572fe7ab">gko::device_matrix_data::sum_duplicates</a></div><div class="ttdeci">void sum_duplicates()</div><div class="ttdoc">Sums up all duplicate entries pointing to the same non-zero location.</div></div>
<div class="ttc" id="aclassgko_1_1HipExecutor_html_aa0701fe1303e03a8331da7e95008100d"><div class="ttname"><a href="classgko_1_1HipExecutor.html#aa0701fe1303e03a8331da7e95008100d">gko::HipExecutor::create</a></div><div class="ttdeci">static std::shared_ptr&lt; HipExecutor &gt; create(int device_id, std::shared_ptr&lt; Executor &gt; master, bool device_reset, allocation_mode alloc_mode=default_hip_alloc_mode, CUstream_st *stream=nullptr)</div><div class="ttdoc">Creates a new HipExecutor.</div></div>
<div class="ttc" id="aclassgko_1_1preconditioner_1_1Jacobi_html"><div class="ttname"><a href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a></div><div class="ttdoc">A block-Jacobi preconditioner is a block-diagonal linear operator, obtained by inverting the diagonal...</div><div class="ttdef"><b>Definition:</b> jacobi.hpp:213</div></div>
<div class="ttc" id="aclassgko_1_1stop_1_1ResidualNorm_html"><div class="ttname"><a href="classgko_1_1stop_1_1ResidualNorm.html">gko::stop::ResidualNorm</a></div><div class="ttdoc">The ResidualNorm class is a stopping criterion which stops the iteration process when the actual resi...</div><div class="ttdef"><b>Definition:</b> residual_norm.hpp:137</div></div>
<div class="ttc" id="astructgko_1_1dim_html"><div class="ttname"><a href="structgko_1_1dim.html">gko::dim&lt; 2 &gt;</a></div></div>
<div class="ttc" id="aclassgko_1_1solver_1_1Cg_html"><div class="ttname"><a href="classgko_1_1solver_1_1Cg.html">gko::solver::Cg</a></div><div class="ttdoc">CG or the conjugate gradient method is an iterative type Krylov subspace method which is suitable for...</div><div class="ttdef"><b>Definition:</b> cg.hpp:74</div></div>
<div class="ttc" id="anamespacegko_html_a3ce296f73db0ff398bdea6009a3a5c58"><div class="ttname"><a href="namespacegko.html#a3ce296f73db0ff398bdea6009a3a5c58">gko::share</a></div><div class="ttdeci">detail::shared_type&lt; OwningPointer &gt; share(OwningPointer &amp;&amp;p)</div><div class="ttdoc">Marks the object pointed to by p as shared.</div><div class="ttdef"><b>Definition:</b> utils_helper.hpp:254</div></div>
<div class="ttc" id="aclassgko_1_1CudaExecutor_html_a6c423656c7c0eb53810cb77bb4a66d15"><div class="ttname"><a href="classgko_1_1CudaExecutor.html#a6c423656c7c0eb53810cb77bb4a66d15">gko::CudaExecutor::create</a></div><div class="ttdeci">static std::shared_ptr&lt; CudaExecutor &gt; create(int device_id, std::shared_ptr&lt; Executor &gt; master, bool device_reset, allocation_mode alloc_mode=default_cuda_alloc_mode, CUstream_st *stream=nullptr)</div><div class="ttdoc">Creates a new CudaExecutor.</div></div>
<div class="ttc" id="anamespacegko_1_1solver_html_a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e"><div class="ttname"><a href="namespacegko_1_1solver.html#a82d21321745fbd3dc65c276d5838bb8aa83ff9f9e3dd7561d3dd91204cf546b7e">gko::solver::initial_guess_mode::rhs</a></div><div class="ttdoc">the input is right hand side</div></div>
<div class="ttc" id="aclassgko_1_1OmpExecutor_html_a8930142a1913bcbcac4fb6c917f930d9"><div class="ttname"><a href="classgko_1_1OmpExecutor.html#a8930142a1913bcbcac4fb6c917f930d9">gko::OmpExecutor::create</a></div><div class="ttdeci">static std::shared_ptr&lt; OmpExecutor &gt; create(std::shared_ptr&lt; CpuAllocatorBase &gt; alloc=std::make_shared&lt; CpuAllocator &gt;())</div><div class="ttdoc">Creates a new OmpExecutor.</div><div class="ttdef"><b>Definition:</b> executor.hpp:1378</div></div>
<div class="ttc" id="aclassgko_1_1matrix_1_1Dense_html_ab83c739c1b11abaecc3bfd89506f6c9c"><div class="ttname"><a href="classgko_1_1matrix_1_1Dense.html#ab83c739c1b11abaecc3bfd89506f6c9c">gko::matrix::Dense::get_const_values</a></div><div class="ttdeci">const value_type * get_const_values() const noexcept</div><div class="ttdoc">Returns a pointer to the array of values of the matrix.</div><div class="ttdef"><b>Definition:</b> dense.hpp:688</div></div>
<div class="ttc" id="aclassgko_1_1PolymorphicObject_html_ab40586bff071b7f11c2cf6b5cbf598eb"><div class="ttname"><a href="classgko_1_1PolymorphicObject.html#ab40586bff071b7f11c2cf6b5cbf598eb">gko::PolymorphicObject::get_executor</a></div><div class="ttdeci">std::shared_ptr&lt; const Executor &gt; get_executor() const noexcept</div><div class="ttdoc">Returns the Executor of the object.</div><div class="ttdef"><b>Definition:</b> polymorphic_object.hpp:264</div></div>
<div class="ttc" id="aclassgko_1_1LinOp_html_a31b3c003388eb0b95393154f68c2b98d"><div class="ttname"><a href="classgko_1_1LinOp.html#a31b3c003388eb0b95393154f68c2b98d">gko::LinOp::get_size</a></div><div class="ttdeci">const dim&lt; 2 &gt; &amp; get_size() const noexcept</div><div class="ttdoc">Returns the size of the operator.</div><div class="ttdef"><b>Definition:</b> lin_op.hpp:239</div></div>
<div class="ttc" id="anamespacegko_html_afd46d554050c4ae90e84ea4fcd9a41f3"><div class="ttname"><a href="namespacegko.html#afd46d554050c4ae90e84ea4fcd9a41f3">gko::remove_complex</a></div><div class="ttdeci">typename detail::remove_complex_s&lt; T &gt;::type remove_complex</div><div class="ttdoc">Obtain the type which removed the complex of complex/scalar type or the template parameter of class b...</div><div class="ttdef"><b>Definition:</b> math.hpp:354</div></div>
<div class="ttc" id="aclassgko_1_1device__matrix__data_html"><div class="ttname"><a href="classgko_1_1device__matrix__data.html">gko::device_matrix_data</a></div><div class="ttdoc">This type is a device-side equivalent to matrix_data.</div><div class="ttdef"><b>Definition:</b> device_matrix_data.hpp:63</div></div>
<div class="ttc" id="aclassgko_1_1matrix_1_1Csr_html_ac4db41146ed3c3a8653b03d6b2c6c675"><div class="ttname"><a href="classgko_1_1matrix_1_1Csr.html#ac4db41146ed3c3a8653b03d6b2c6c675">gko::matrix::Csr::read</a></div><div class="ttdeci">void read(const mat_data &amp;data) override</div><div class="ttdoc">Reads a matrix from a matrix_data structure.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
